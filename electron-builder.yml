appId: io.laststance.skills-desktop
productName: Skills Desktop
directories:
  buildResources: resources
  output: dist

files:
  - '!**/.vscode/*'
  - '!src/*'
  - '!electron.vite.config.ts'
  - '!{.eslintignore,.eslintrc.json,.prettierrc,.env,.env.*,tsconfig.json,tsconfig.node.json}'
  - '!{README.md,CHANGELOG.md,CONTRIBUTING.md}'
  - '!{.github,.idea,.vscode,dev-app-update.yml,CONTRIBUTING.md}'

asarUnpack:
  - resources/**

mac:
  icon: resources/icon.icns
  entitlementsInherit: build/entitlements.mac.plist
  target:
    - target: dmg
      arch:
        - arm64
        - x64
    - target: zip
      arch:
        - arm64
        - x64
  # macOS code signing and notarization
  # Use Keychain Profile:
  #   APPLE_KEYCHAIN_PROFILE=skills-desktop pnpm build:mac
  # Or use environment variables:
  #   APPLE_ID, APPLE_APP_SPECIFIC_PASSWORD, APPLE_TEAM_ID
  notarize: true
  hardenedRuntime: true
  gatekeeperAssess: false

dmg:
  artifactName: '${name}-${version}-${arch}.${ext}'

publish:
  provider: github
  owner: laststance
  repo: skills-desktop
